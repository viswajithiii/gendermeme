arrange(desc(total))
babynames.summary %>%
mutate(ratio = ifelse(male > female, male / (1 + female), female / (1 + male))) %>%
ggplot() +
geom_histogram(aes(x = ratio))
babynames.summary <-
babynames %>%
group_by(name, sex) %>%
summarize(count = sum(n)) %>%
spread(key = sex, value = count, fill = 0)  %>%
ungroup() %>%
mutate(total = M + F) %>%
arrange(desc(total))
library(babynames)
library(tidyverse)
babynames.summary <-
babynames %>%
group_by(name, sex) %>%
summarize(count = sum(n)) %>%
spread(key = sex, value = count, fill = 0)  %>%
ungroup() %>%
rename(male = M, female = F) %>%
mutate(total = male + female) %>%
arrange(desc(total))
babynames.summary %>%
mutate(ratio = ifelse(male > female, male / (1 + female), female / (1 + male))) %>%
ggplot() +
geom_histogram(aes(x = ratio))
babynames.summary %>%
mutate(ratio = ifelse(male > female, male / (1 + female), female / (1 + male))) %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 5)
babynames.summary %>%
mutate(ratio = ifelse(male > female, male / (1 + female), female / (1 + male))) %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 50)
babynames.summary %>%
mutate(ratio = ifelse(male > female, male / (1 + female), female / (1 + male))) %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 100)
babynames.summary %>%
mutate(ratio = ifelse(male > female, male / (1 + female), female / (1 + male))) %>%
filter(ratio < 10000) %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 100)
babynames.summary %>%
mutate(ratio = ifelse(male > female, male / (1 + female), female / (1 + male))) %>%
filter(ratio < 10000) %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 10)
babynames.summary %>%
mutate(ratio = ifelse(male > female, male / (1 + female), female / (1 + male))) %>%
filter(ratio < 1000) %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 10)
babynames.summary %>%
mutate(ratio = ifelse(male > female, male / (1 + female), female / (1 + male))) %>%
filter(ratio < 100) %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 10)
babynames.summary %>%
mutate(ratio = ifelse(male > female, male / (1 + female), female / (1 + male))) %>%
filter(ratio < 100) %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 1)
babynames.summary %>% filter(male == female)
babynames.summary %>% filter(male == female) %>% View()
babynames.summary %>%
mutate(ratio = ifelse(male > female, male / (0.5 + female), female / (0.5 + male))) %>%
filter(ratio < 100) %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 1)
babynames.summary %>%
mutate(ratio = ifelse(male > female, male / (0.5 + female), female / (0.5 + male))) %>%
filter(ratio < 1000) %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 1)
babynames.summary %>%
mutate(ratio = ifelse(male > female, male / (1 + female), female / (1 + male))) %>%
filter(ratio < 1000) %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 1)
babynames.summary %>%
mutate(ratio = ifelse(male > female, male / (1 + female), female / (1 + male))) %>%
filter(ratio < 100) %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 1)
babynames.summary %>% filter(total < 100) %>% nrow()
babynames.summary %>% filter(total < 100) %>% View()
babynames.summary %>% filter(male < 3 * female | female < 3 * male)
nrow(babynames)
nrow(babynames.summary)
babynames.summary %>% filter((male < 3 * female) | (female < 3 * male))
babynames.summary %>% filter((male < 3 * female) | (female < 3 * male))
nrow(babynames.summary)
babynames.summary
babynames.summary <-
babynames %>%
group_by(name, sex) %>%
summarize(count = sum(n)) %>%
spread(key = sex, value = count, fill = 0)  %>%
ungroup() %>%
rename(male = M, female = F) %>%
mutate(total = male + female) %>%
arrange(desc(total)) %>%
mutate(ratio = ifelse(male > female, female / male, male / female))
babynames.summary %>% View()
babynames.summary %>% filter(ratio > 0.3) %>% View()
babynames.summary %>% filter(ratio > 0.3) %>% nrow()
babynames.summary %>% filter(ratio > 0.3) %>% filter(name == "Kim")
babynames.summary %>% filter(name == "Kim")
babynames.summary %>% filter(name == "Alex")
babynames.summary %>% filter(ratio > 0.2) %>% nrow()
babynames.summary %>% filter(ratio > 0.3) %>% nrow()
babynames.summary %>% filter(name == "Mary")
babynames.summary %>% filter(name == "Aditya")
babynames.summary %>% filter(name == "Mary")
babynames.summary %>% filter(name == "James")
babynames.summary %>% filter(ratio < 0.01, total > 10000)
babynames.summary %>% filter(ratio < 0.01, total > 1000)
babynames.summary %>% filter(name == "James")
babynames.summary %>% filter(name == "Jamie")
babynames.summary %>% filter(name == "Kim")
babynames.summary %>% filter(name == "Ashlie")
babynames.summary %>% filter(name == "Ashley")
babynames.summary %>% filter(name == "Lauren")
babynames.summary %>% filter(name == "Am")
babynames.summary %>% filter(name == "Amy")
babynames.summary %>% filter(name == "Berk")
babynames.summary %>% filter(name == "Cassie")
babynames.summary %>% filter(ratio < 0.01) %>% nrow()
babynames.summary %>% filter(ratio == 0.01) %>% nrow()
babynames.summary %>% filter(ratio == 0) %>% nrow()
babynames.summary %>% filter(total < 2000) %>% nrow()
babynames.summary %>% filter(ratio == 0, total < 2000) %>% nrow()
babynames.summary %>% filter(name == "Laurie")
babynames.summary %>% filter(name == "Laura")
babynames.summary %>% filter(name == "Meenu")
babynames.summary %>% filter(name == "Meena")
babynames.summary %>% filter(name == "Maya")
babynames.summary %>% filter(name == "Maitri")
babynames.summary %>% filter(name == "Kamala")
babynames.summary %>% filter(name == "Shashi")
babynames.summary %>% filter(name == "Shashi")
babynames.summary %>% filter(name == "Poorna")
babynames.summary %>% filter(name == "Kiran")
babynames.summary %>% filter(name == "Rita")
babynames.summary %>% filter(name == "Jaspreet")
babynames.summary %>% filter(name == "manpreet")
babynames.summary %>% filter(name == "Manpreet")
babynames.summary %>% filter(name == "Pikachu")
babynames.summary %>% filter(name == "Piku")
babynames.summary %>% filter(name == "Shwetha")
male = male + 1,
female = female + 1,
total = male + female) %>%
arrange(desc(total)) %>%
mutate(ratio = ifelse(male > female, female / male, male / female))
babynames.summary <-
babynames %>%
group_by(name, sex) %>%
summarize(count = sum(n)) %>%
ungroup() %>%
spread(key = sex, value = count, fill = 0)  %>%
rename(male = M, female = F) %>%
mutate(
male = male + 1,
female = female + 1,
total = male + female
) %>%
arrange(desc(total)) %>%
mutate(ratio = ifelse(male > female, female / male, male / female))
babynames.summary %>% filter(ratio < 0.01) %>% nrow()
babynames.summary %>% filter(ratio < 0.01) %>% nrow()
babynames.summary %>% filter(ratio < 0.01) %>% nrow()
babynames.summary %>% filter(ratio < 0.01) %>% nrow()
babynames.summary %>% filter(ratio < 0.01) %>% nrow()
babynames.summary %>% filter(ratio < 0.01) %>% nrow()
babynames.summary %>% filter(ratio < 0.01) %>% View*
babynames.summary %>% filter(ratio < 0.01) %>% View()
babynames.summary %>% filter(ratio < 0.01) %>% nrow()
babynames.summary %>% filter(ratio < 0.02) %>% nrow()
babynames.summary %>% filter(ratio < 0.03) %>% nrow()
babynames.summary %>%
ggplot() +
geom_histogram(aes(x = ratio))
babynames.summary %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 0.01)
babynames.summary %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 0.005)
babynames.summary %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 0.005)
babynames.summary %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 0.005)
babynames.summary <-
babynames %>%
group_by(name, sex) %>%
summarize(count = sum(n)) %>%
ungroup() %>%
spread(key = sex, value = count, fill = 0)  %>%
rename(male = M, female = F) %>%
mutate(
male = male + 1,
female = female + 1,
total = male + female
) %>%
arrange(desc(total)) %>%
mutate(
ratio = ifelse(male > female, female / male, male / female)
)
babynames.summary %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 0.005)
babynames.summary <-
babynames %>%
group_by(name, sex) %>%
summarize(count = sum(n)) %>%
ungroup() %>%
spread(key = sex, value = count, fill = 0)  %>%
rename(male = M, female = F) %>%
mutate(
male = male + 10,
female = female + 10,
total = male + female
) %>%
arrange(desc(total)) %>%
mutate(
ratio = ifelse(male > female, female / male, male / female)
)
babynames.summary %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 0.005)
babynames.summary %>% filter(ratio == 0.6)
babynames.summary %>% filter(ratio > 0.63, ratio < 0.75)
babynames.summary %>% filter(ratio > 0.63, ratio < 0.75) %>% View()
babynames.summary <-
babynames %>%
group_by(name, sex) %>%
summarize(count = sum(n)) %>%
ungroup() %>%
spread(key = sex, value = count, fill = 0)  %>%
rename(male = M, female = F) %>%
mutate(
male = male + 100,
female = female + 100,
total = male + female
) %>%
arrange(desc(total)) %>%
mutate(
ratio = ifelse(male > female, female / male, male / female)
)
babynames.summary %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 0.005)
babynames.summary <-
babynames %>%
group_by(name, sex) %>%
summarize(count = sum(n)) %>%
ungroup() %>%
spread(key = sex, value = count, fill = 0)  %>%
rename(male = M, female = F) %>%
mutate(
male = male + 1000,
female = female + 1000,
total = male + female
) %>%
arrange(desc(total)) %>%
mutate(
ratio = ifelse(male > female, female / male, male / female)
)
babynames.summary %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 0.005)
babynames.summary <-
babynames %>%
group_by(name, sex) %>%
summarize(count = sum(n)) %>%
ungroup() %>%
spread(key = sex, value = count, fill = 0)  %>%
rename(male = M, female = F) %>%
mutate(
male = male + 1,
female = female + 1,
total = male + female
) %>%
arrange(desc(total)) %>%
mutate(
ratio = ifelse(male > female, female / male, male / female)
)
babynames.summary[1]
babynames.summary[1,]
1:nrow(babynames.summary)
getwd()
setwd('/Users/Poorna/Desktop/Box Sync/Gendermeme/gendermeme/analysis')
getwd()
fileGender <- 'gender_babynames.py'
writeLines("gender = {", fileGender)
writeLines("Ha", fileGender)
?writeLines
fileGender <- 'gender_babynames.py'
write("gender = {", fileGender)
write("Ha", fileGender, append = TRUE)
"a" + "b"
""
"""
"\""
"'"
paste0("'", "haha", "'")
babynames.summary <-
babynames.summary %>%
mutate(
majority = ifelse(male > female, 'male', 'female'),
minority = ifelse(male > female, 'female', 'male'),
certainty = ifelse(ratio < MAX_CERTAIN_RATIO, 'yes', 'no')
)
MAX_CERTAIN_RATIO = 0.02
babynames.summary <-
babynames.summary %>%
mutate(
majority = ifelse(male > female, 'male', 'female'),
minority = ifelse(male > female, 'female', 'male'),
certainty = ifelse(ratio < MAX_CERTAIN_RATIO, 'yes', 'no')
)
View(babynames.summary)
) %>%
arrange(certainty, ratio)
babynames.summary <-
babynames.summary %>%
mutate(
majority = ifelse(male > female, 'male', 'female'),
minority = ifelse(male > female, 'female', 'male'),
certainty = ifelse(ratio < MAX_CERTAIN_RATIO, 'yes', 'no')
)
babynames.summary <-
babynames.summary %>%
mutate(
majority = ifelse(male > female, 'male', 'female'),
minority = ifelse(male > female, 'female', 'male'),
certainty = ifelse(ratio < MAX_CERTAIN_RATIO, 'yes', 'no')
) %>%
arrange(certainty, ratio)
MAX_CERTAIN_RATIO = 0.03
babynames.summary <-
babynames.summary %>%
mutate(
majority = ifelse(male > female, 'male', 'female'),
minority = ifelse(male > female, 'female', 'male'),
certainty = ifelse(ratio < MAX_CERTAIN_RATIO, 'yes', 'no')
) %>%
arrange(certainty, ratio)
View(babynames.summary)
MAX_CERTAIN_RATIO = 0.25
babynames.summary <-
babynames.summary %>%
mutate(
majority = ifelse(male > female, 'male', 'female'),
minority = ifelse(male > female, 'female', 'male'),
certainty = ifelse(ratio < MAX_CERTAIN_RATIO, 'yes', 'no')
)
babynames.summary <-
babynames %>%
group_by(name, sex) %>%
summarize(count = sum(n)) %>%
ungroup() %>%
spread(key = sex, value = count, fill = 0)  %>%
rename(male = M, female = F) %>%
mutate(
male = male + 1,
female = female + 1,
total = male + female
) %>%
arrange(desc(total)) %>%
mutate(
ratio = ifelse(male > female, female / male, male / female)
)
babynames.summary %>%
ggplot() +
geom_histogram(aes(x = ratio), binwidth = 0.005)
MAX_CERTAIN_RATIO = 0.25
babynames.summary <-
babynames.summary %>%
mutate(
majority = ifelse(male > female, 'male', 'female'),
minority = ifelse(male > female, 'female', 'male'),
certainty = ifelse(ratio < MAX_CERTAIN_RATIO, 'yes', 'no')
)
MAX_CERTAIN_RATIO = 0.025
babynames.summary <-
babynames.summary %>%
mutate(
majority = ifelse(male > female, 'male', 'female'),
minority = ifelse(male > female, 'female', 'male'),
certainty = ifelse(ratio < MAX_CERTAIN_RATIO, 'yes', 'no')
)
MAX_CERTAIN_RATIO = 0.025
babynames.summary <-
babynames.summary %>%
mutate(
majority = ifelse(male > female, 'male', 'female'),
minority = ifelse(male > female, 'female', 'male'),
certainty = ifelse(ratio < MAX_CERTAIN_RATIO, 'yes', 'no')
)
setwd('/Users/Poorna/Desktop/Box Sync/Gendermeme/gendermeme/analysis')
fileGender <- 'gender_babynames.py'
write("gender = {", fileGender)
for (i in 1:nrow(babynames.summary)){
name = babynames.summary[i, ]$name
certainty = babynames.summary[i, ]$certainty
majority = babynames.summary[i, ]$majority
minority = babynames.summary[i, ]$minority
if (certainty == "yes"){
gender = paste0("'",majority,"'")
} else {
gender = paste0("('", majority, "', '", minority, "')")
}
write(paste0("u'", name, "': ", gender), fileGender)
}
setwd('/Users/Poorna/Desktop/Box Sync/Gendermeme/gendermeme/analysis')
fileGender <- 'gender_babynames.py'
write("gender = {", fileGender)
setwd('/Users/Poorna/Desktop/Box Sync/Gendermeme/gendermeme/analysis')
fileGender <- 'gender_babynames.py'
write("gender = {", fileGender)
for (i in 1:nrow(babynames.summary)){
name = babynames.summary[i, ]$name
certainty = babynames.summary[i, ]$certainty
majority = babynames.summary[i, ]$majority
minority = babynames.summary[i, ]$minority
if (certainty == "yes"){
gender = paste0("'",majority,"'")
} else {
gender = paste0("('", majority, "', '", minority, "')")
}
write(paste0("u'", name, "': ", gender), fileGender, append = TRUE)
}
write("}", fileGender, append = TRUE)
setwd('/Users/Poorna/Desktop/Box Sync/Gendermeme/gendermeme/analysis')
fileGender <- 'gender_babynames.py'
write("gender = {", fileGender)
for (i in 1:nrow(babynames.summary)){
name = babynames.summary[i, ]$name
certainty = babynames.summary[i, ]$certainty
majority = babynames.summary[i, ]$majority
minority = babynames.summary[i, ]$minority
if (certainty == "yes"){
gender = paste0("'",majority,"'")
} else {
gender = paste0("('", majority, "', '", minority, "'),")
}
write(paste0("u'", name, "': ", gender, ","), fileGender, append = TRUE)
if (i %% 500 == 0) {
print(paste0("Iteration:", i))
}
}
write("}", fileGender, append = TRUE)
for (i in 1:nrow(babynames.summary)){
name = babynames.summary[i, ]$name
certainty = babynames.summary[i, ]$certainty
majority = babynames.summary[i, ]$majority
minority = babynames.summary[i, ]$minority
if (certainty == "yes"){
gender = paste0("'",majority,"'")
} else {
gender = paste0("('", majority, "', '", minority, "'),")
}
write(paste0("u'", name, "': ", gender, ","), fileGender, append = TRUE)
if (i %% 500 == 0) {
print(paste0("Iteration:", i))
}
}
setwd('/Users/Poorna/Desktop/Box Sync/Gendermeme/gendermeme/analysis')
fileGender <- 'gender_babynames.py'
write("gender = {", fileGender)
for (i in 1:nrow(babynames.summary)){
name = babynames.summary[i, ]$name
certainty = babynames.summary[i, ]$certainty
majority = babynames.summary[i, ]$majority
minority = babynames.summary[i, ]$minority
if (certainty == "yes"){
gender = paste0("'",majority,"'")
} else {
gender = paste0("('", majority, "', '", minority, "'),")
}
write(paste0("u'", name, "': ", gender, ","), fileGender, append = TRUE)
if (i %% 500 == 0) {
print(paste0("Iteration:", i))
}
}
write("}", fileGender, append = TRUE)
setwd('/Users/Poorna/Desktop/Box Sync/Gendermeme/gendermeme/analysis')
fileGender <- 'gender_babynames.py'
write("gender = {", fileGender)
for (i in 1:nrow(babynames.summary)){
name = babynames.summary[i, ]$name
certainty = babynames.summary[i, ]$certainty
majority = babynames.summary[i, ]$majority
minority = babynames.summary[i, ]$minority
if (certainty == "yes"){
gender = paste0("'",majority,"'")
} else {
gender = paste0("('", majority, "', '", minority, "')")
}
write(paste0("u'", name, "': ", gender, ","), fileGender, append = TRUE)
if (i %% 500 == 0) {
print(paste0("Iteration:", i))
}
}
write("}", fileGender, append = TRUE)
